import ctypes
from timeit import default_timer as timer
from timeit import timeit

# pointer to the file containing the rust function:
library_path = "target/release/libpyru.so"


# the above file is relative to where this file is located.

# loading the library:
pyru = ctypes.CDLL(library_path)


def time_rust_function_calls_from_python():
    pyru.rust_says_hello()


if __name__ == "__main__":
    # calling the Rust function:
    start = timer()
    pyru.rust_says_hello()
    end = timer()
    print(end - start)

    print(
        timeit(
            "time_rust_function_calls_from_python()",
            setup="from __main__ import time_rust_function_calls_from_python",
            number=10000
        )
    )
